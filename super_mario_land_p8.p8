pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
function _init()

	-- enable mouse controlls --
	poke(0x5f2d, 1)
	
	mario = make_player(64,64)
end

function _update()
	-- mouse position
	mpos_x = stat(32)
	mpos_y = stat(33)

	-- mario
	mario:update()
end

function _draw()
	cls(12) -- clear, fill blue (sky)

	-- mouse cursor
	spr(1,mpos_x,mpos_y)

	print("x: "..mario.x.." y: "..mario.y, 4, 4, 7)
	mario:draw()
end

function make_player(x, y)
	local p = {}
	p.x = x -- position x
	p.y = y -- position y
	p.sp = 1 -- sprite id
	p.spd = 3.5 -- walking speed
	p.flip_x = false

	p.update = function (self)
		-- left movement
		if btn (0) then
			self.x -= self.spd
			self.flip_x = true
		end
		-- right movement
		if btn(1) then
			self.x += self.spd
			self.flip_x = false
		end
		-- down movement
		if btn(2) then
			self.y -= self.spd
		end
		-- up movement
		if btn(3) then
			self.y += self.spd
		end
	end
	p.draw = function(self)
		-- spr(id, xx, y, width, height, flix_x) 
		spr(self.sp, self.x, self.y, 1, 1,  self.flip)
	end
	return p
end


__gfx__
00000000008888800088870088188188ffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000ffffffffffffffffffffffff
00000000044f1f000888888888911988ffffffffffffffffffffffffffffffffffffffffffffffffffffffff0666666666555000ffffffffffffffffffffffff
0070070004fffff0044f1ff077111177ffffffffffffffffffffffffffffffffffffffffffffffffffffffff0666666666555000ffffffffffffffffffffffff
00077000004fff004f4fffff67111176ffffffffffffffffffffffffffffffffffffffffffffffffffffffff0666666666555000ffffffffffffffffffffffff
00077000088181804fff444401111110ffffffffffffffffffffffffffffffffffffffffffffffffffffffff0666666666555000ffffffffffffffffffffffff
007007000719197004fffff001100110ffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000ffffffffffffffffffffffff
00000000001111000018810004400440fffffffffffffffffffffffffffffffffffffffffffffffffffffffff06666666665500fffffffffffffffffffffffff
00000000044004400818818044400444fffffffffffffffffffffffffffffffffffffffffffffffffffffffff06666666665500fffffffffffffffffffffffff
ffffffff01111110011111100111111001111110fffffffffffffffffffffffffffffffffffffffffffffffff06666666665500fffffffffffffffffffffffff
ffffffff19944991199999911999991117777711fffffffffffffffffffffffffffffffffffffffffffffffff06666666665500fffffffffffffffffffffffff
ffffffff19499491199999911911191117711111fffffffffffffffffffffffffffffffffffffffffffffffff06666666665500fffffffffffffffffffffffff
ffffffff19994491199999911919991117711111fffffffffffffffffffffffffffffffffffffffffffffffff06666666665500fffffffffffffffffffffffff
ffffffff19944991199999911919991117711111ffffffffffffffffffffffffffffffffffffffffffffffffff000000000000ffffffffffffffffffffffffff
ffffffff19999991199999911999911111111111fffffffffffffffffffffffffffffffffffffffffffffffff06666666665500fffffffffffffffffffffffff
ffffffff19944991199999911111111111111111fffffffffffffffffffffffffffffffffffffffffffffffff06666666665500fffffffffffffffffffffffff
ffffffff01111110011111100111111001111110fffffffffffffffffffffffffffffffffffffffffffffffff06666666665500fffffffffffffffffffffffff
ffffffff00111100001110000033333000111100fffffffffffffffff000000ff000000f000000f00000f000006666666665500fffffffff0000000000000000
ffffffff0177771001aaa10003788873011aa110ffffffffffffffff06666600077000000666600666660666600666666665500fffffffff0000000000000000
ffffffff177777711aa7aa100377777301aa1110ffffffffffffffff06666600000000000666606666660666660066666665500fffffffff0000008880000000
ffffffff177777711a771a100033333001aa1110ffffffffffffffff06666000f067660f0666606666660666666066666665500fffffffff0000088888880000
ffffffff111111111a771a100000300001aa1110fffffffffffffffff000000ff067660f066660666666066666600000000000ffffffffff0000444ff1f00000
ffffffff017777101aa1aa100330303301aa1110ffffffffffffffffffffffff000000000666606666660666666006666665500fffffffff00044f44ffff0000
ffffffff0177771001aaa10000333330011aa110ffffffffffffffffffffffff077000000666606666660666666006666665500fffffffff00044ffff44f0000
ffffffff00111100001110000003330000111100fffffffffffffffffffffffff000000f0666606666660666666006666665500fffffffff00000ffffff00000
ffffffff00000000ffffffff00111110ffffffffffffffffffffffff00000000000000000666606666660666666606666665500fffffffff0000881881000000
ffffffff000a0000f11f111f01177711ffffffffff0000ffffffffff07777777777777000666606666660666666606666665500fffffffff0008881881880000
ffffffff000a00001781881101111111fff0000ff007700fffffffff07666666666666000666606666660666666606666665500fffffffff000ff8a11a88f000
ffffffffaaaaaaa01788881100111110f0007700f070000fffffffff07670666666706000555506666660666666606666665500fffffffff000ff111111ff000
ffffffff0aaaaa00188888110000100000000000f070000fffffffff0760066666600600055550555555055555000000000000ffffffffff0000044004400000
ffffffff00aaa000f188811f01101011f0000000f000000fffffffff07666666666666000000005555550555500066666665500fffffffff0000444004440000
ffffffff0aaaaa00ff1811ff00111110fff0000fff0000ffffffffff00000000000000000000000000000000000666666665500fffffffff0000000000000000
ffffffffaa000aa0fff11fff00011100ffffffffffffffffffffffff0000000000000000000000f00000f000006666666665500fffffffff0000000000000000
00000000ff000000000000ff00000000fffffffffffffffffffffffffffffffffffffffff00000000000000fffffffffffffffffffffffffffffffffffffffff
77777777f00000000000000f06600660ffffffffffffffffffffffffffffffffffffffff0066666666666600ffffffffffffffffffffffffffffffffffffffff
00000000006606666606600006600660ffffffffffffffffffffffffffffffffffffffff0606666666666000ffffffffffffffffffffffffffffffffffffffff
00000000066666606666660006600660ffffffffffffffffffffffffffffffffffffffff0660000000000600ffffffffffffffffffffffffffffffffffffffff
00000000066066666660660000000000ffffffffffffffffffffffffffffffffffffffff0660066666600600ffffffffffffffffffffffffffffffffffffffff
666606660066606660666000ffffffffffffffffffffffffffffffffffffffffffffffff0660606666000600ffffffffffffffffffffffffffffffffffffffff
606666660000000000000000ffffffffffffffffffffffffffffffffffffffffffffffff0660660000600600ffffffffffffffffffffffffffffffffffffffff
666066600000000000000000ffffffffffffffffffffffffffffffffffffffffffffffff0660660600600600ffffffffffffffffffffffffffffffffffffffff
66666666ffffffffffffffff00000000ffffffffffffffffffffffffffffffffffffffff0660660000600600ffffffffffffffffffffffffffffffffffffffff
66666666ffffffffffffffff66066606ffffffffffffffffffffffffffffffffffffffff0660660000600600ffffffffffffffffffffffffffffffffffffffff
00000000ffffffffffffffff66066606ffffffffffffffffffffffffffffffffffffffff0660606666000600ffffffffffffffffffffffffffffffffffffffff
55555555ffffffffffffffff66066606ffffffffffffffffffffffffffffffffffffffff0660000000000600ffffffffffffffffffffffffffffffffffffffff
00000000ffffffffffffffff00000000ffffffffffffffffffffffffffffffffffffffff0660000000000600ffffffffffffffffffffffffffffffffffffffff
55555555ffffffffffffffff06660666ffffffffffffffffffffffffffffffffffffffff0606666666666000ffffffffffffffffffffffffffffffffffffffff
00000000ffffffffffffffff06660666ffffffffffffffffffffffffffffffffffffffff0000000000000000ffffffffffffffffffffffffffffffffffffffff
00000000ffffffffffffffff06660666fffffffffffffffffffffffffffffffffffffffff00000000000000fffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000fffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0066666666666600ffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0606666666666000ffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0660000000000600ffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0660066666600600ffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0660606666000600ffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000ffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000000000ffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00660660006606606665566600070007ffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff06600060066000600000000000070007ffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000006665566600070007ffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00600000006000000000000000070007ffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff66600066666000666665566600070007ffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60006666600066660000000000070007ffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00066000000660006665566677777777ffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000000000000000000000077777777ffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffff000ffffffffffff000fffffffffffffffffffffffffffffffffff666fffffff000fffffffffffff0000ffffffffffffffffffff00
ffffff000fffffffffffff0000000ffffffff0000000ffffffffff000fffffffffffff000fff666ffff00000000ffffffff6f000000f6fffffffffffffff0077
fffff0000000fffffffff0006606ffffffff0006606ffffffffff0000000fffffffff000000000ffffff60660000ffffff660606606066fffffffffff0007770
ffff0006606fffffffff006006666ffffff006006666ffffffff0006606fffffffff0006606f00fffff6660606066fffff600066660006ffffffffff0777770f
fff006006666ffffffff006666006ffffff006666006fffffff006006666fffffff00600666600ffffff006666066ffffff0060000600ffffffffffff00000ff
fff006666006ffffffffff666666fffffffff666666ffffffff006666006fffffff0066660000ffffff00666555fffffffff06666660fffffffffffff555555f
fffff666666fffffffff000050ffffffffff00050ffffffffffff666666ffffffffff6666660fffffff000006655ffffffff00566500ffffffffffff56677675
ffff005005ffffffff660000500666fffff0000500ffffffffff000050f66ffffff00050050ffffffff000006555ffffff0f55500555f0ffffffffff50066005
fff000500500ffffff66f000750066fffff00667575ffffffff6000000666ffff6000055005ff0ffffff00050005ffffff000575575000ffffffffff55566555
fff6607557006fffffff555555ff0ffffff55655555fffffff665555555ffffff66f5557557500ffffffff50005fffffff000555555000ffffffffff55500555
fff6655555566ffffff0555555500fffffff555500fffffffff0555555fffffff6f05555555500ffffffff50050f0ffffffff555555fffffffffffff56666665
fffff00ff00ffffffff005fff5500ffffffff000000fffffff0055f00fffffffff00055555ffffffffffffff50000fffffffffffffffffffffffffff50000005
ffff000ff000ffffffff000ffffffffffffff0000fffffffff0ffff000ffffffff0ff55ffffffffffffffffff000fffffffffffffffffffffffffffff550055f
ff000ffffffffffffffff00fffffffffff0000ffff0000000fffffffffffffffffffffffffffffffffffffff00ffff00fff00fff0ffffff0ffffffff000fffff
f07770ffffffffffffff0ffffffffffff000000ff005667650ffffffffffffffffffffffffffffffffffffffff0000f0ff0660ff0ffffff0000fffff65500fff
0777770ff555555fff0ff066ffffffff00700700f0000000000fffffffffffffffffffffffff00ffffffffff00ffff00f060660f00ffff006550ffff765070ff
0707077055577575ff0f0677ffffffff00700700077706056760fffffffffffffffffffffff0770fffffffff000000000066660000ffff0076500fff000000ff
0707070755555555fff06760ffffffff00000000070706000000ffffffffffffffffffffff07770fffffffff0000000006666660060ff060760770ff76650650
070700f0566666650ff67677f00fffffff6666ff000006056760ffffffffffff0ffff00fff07660fffffffff0007500006666060060ff060760070ff00000000
0700ffff50066005f0f607700770fffff006660f06666600000fffffffffffff600f0770f007600fffffffff0000000006666660060ff060760770ffff050fff
f0ffffff50066005ff0677000070ffffff00f00f066660055fffffffffffffff07707770077000ffffffffff0070070006066600060ff060000000ffff05650f
ffffffff55500555ffffffff0070fffffffffffff000006650000fff0fffffff607066606070ffffffffffffff0000ff066666600600006000000f00000000ff
ff000fff55500555ffffffff0770fffffffffffffff00666655500ff600fffff0000000f0000ff00fffffffff567555f0066660006600660765500607655060f
f077700f56666665ffffff0f00076fffffffffffff0766666666550f6660ffff7070ffff7070f000ff00007000000000f006600ff066660f7655065076550560
0777777050000005fffffffff006000fff0000fff076660006666500666000ff707000ff707000fff077075706000060ff0000ffff0000ff7655050f76550050
0770707755500555fff0fff0ff060070f000000ff0766076666666506660770f000f000f000fffff07070050000000000ff00ff00ff00ff0000000ff00000f00
070f0f0005555550fffff0f6fff600000070070000760000066666506000777060ffffff60ffffff000000500000000000f00f0000f00f00ff050fffff050fff
f0fffffff000000fffffff60fff66006ff6666ff0666076666666500666066700000ffff600000fff000005006000060f000000ff000000fff05600fff05600f
fffffffff000000fff0f0607ff00066000ffff00f00000000000000f000f0000ff000fff0fff000fff00007000000000ff0000ffff0000ffff05650fff05650f
fffffffffff000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0fffff00fffff000000ff0000000fffffff
ffffffffff07700fff00000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0fff060ff00660fff0056676f005667650ffffff
ff00000ff077770ff0777060ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0fff060f0606660ff0000000f0000000000fffff
f0777060f077760f060770650fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00f066600606000f07770605077706056760ffff
060770650776660f060770650f00000fffffffffffffffffffffffffffffffffffffffffffffffffffffffff060000000760707007070600070706000000ffff
060770650766600f0660066500777770ffffffffffffffffffffffffffffffffffffffffffffffffffffffff076070700760777000000605000006056760ffff
06600665070000ff0006665007777770ffffffffffffffffffffffffffffffffffffffffffffffffffffffff0770777007760000f00f060006666600000fffff
00666650700ffffffff0600000666700fffffffffffffffffffffffffffffffffffffffffffffffffffffffff000000ff000000fffff0605066660055fffffff
06666000000000fff0000000770000ffff000000fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0ffffffff0606f000006650000fff
f0000f007757500fffffff007557570ff06666600ffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000fff0000606fff00666655500ff
ffffff007557570ffffff0f00577570f066666650ffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0fffff0666066ff0766666666550f
ff0ff0f00577570fff0f0fff000000ff060066650ffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000ffff000600f076660006666500
f00f0fff000000fff00f0ffff0ffff0f060066550000000ffffffffffffffffffffffffffffffffffffffffffffffffffff0fffff0766076f076607666666650
077000000000000007700000000000000666655075575570ffffffffffffffffffffffffffffffffffffffffffffffffff070fff077600000076000006666650
f00f0fff0ffff0fff00f0ffff0ffff0f0666600075575570fffffffffffffffffffffffffffffffffffffffffffffffff07770ff066607660666076666666500
ff0fffffffffffffff0ffffffffffffff0000ff00000000ffffffffffffffffffffffffffffffffffffffffffffffffff00000fff0000000f00000000000000f
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
__map__
0400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
